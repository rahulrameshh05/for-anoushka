<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For Anoushka ❤️</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
      background: white;
      height: 100vh;
      overflow-x: hidden;
      margin: 0;
      opacity: 0;
      transition: opacity 1s ease;
    }

    body.fade-in {
      opacity: 1;
    }

    h1 {
      margin-top: 80px;
      color: black;
      font-size: 48px;
    }

    p {
      color: black;
      font-size: 24px;
    }

    button {
      padding: 15px 30px;
      font-size: 22px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      margin: 20px;
      transition: 0.3s;
    }

    #yes {
      background-color: #28a745;
      color: white;
    }

    #no {
      background-color: #dc3545;
      color: white;
      position: absolute;
    }

    .gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
      padding: 40px;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }

    .polaroid {
      background: white;
      padding: 10px 10px 30px 10px;
      width: 220px;
      box-shadow: 0 8px 15px rgba(0,0,0,0.3);
      transform: rotate(-3deg);
    }

    .polaroid:nth-child(even) {
      transform: rotate(3deg);
    }

    .polaroid img {
      width: 100%;
      height: auto;
    }

    .caption {
      margin-top: 10px;
      font-size: 18px;
      color: black;
    }

    .final {
      position: relative;
      margin: 80px auto;
      max-width: 700px;
      font-size: 26px;
      color: black;
      padding: 40px;
      line-height: 1.6;
      background: #fff9f9;
      border: 1px solid #ffe0e0;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      overflow-y: auto;
      max-height: 80vh;
      opacity: 0;
      animation: fadeIn 1.2s forwards;
      z-index: 2;
    }

    .heart {
      position: fixed;
      color: red;
      font-size: 26px;
      animation: floatUp 5s linear forwards;
      z-index: 1;
    }

    @keyframes floatUp {
      0% { transform: translateY(0); opacity: 1; }
      80% { opacity: 1; }
      100% { transform: translateY(-85vh); opacity: 0; }
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .rose {
      font-size: 48px;
      margin: 10px;
    }
  </style>
</head>
<body class="fade-in">

<!-- Audio stays outside pages so it never gets removed -->
<audio id="bgMusic" loop>
  <source src="505.mp3" type="audio/mpeg">
</audio>

<div id="main">
  <h1>Anoushka, will you be my Valentine? ❤️</h1>
  <p>You make every day special ❤️</p>

  <button id="yes" onclick="showGallery()">Yes ❤️</button>
  <button id="no" onmouseover="moveNo()">No</button>
</div>

<script>
  function fadeBody(content) {
    document.body.classList.remove("fade-in");
    setTimeout(() => {
      document.getElementById("main").outerHTML = content;
      document.body.classList.add("fade-in");
    }, 400);
  }

  function showGallery() {
    const music = document.getElementById("bgMusic");
    music.play().catch(() => {});

    fadeBody(`
      <div id="main">
        <h1 style="margin-top:40px; color:black;">
          MWAAHHHH ❤️<br>
          I love you ❤️
        </h1>

        <div class="gallery">
          <div class="polaroid">
            <img src="photo1.jpg">
            <div class="caption">I</div>
          </div>

          <div class="polaroid">
            <img src="photo2.jpg">
            <div class="caption">love</div>
          </div>

          <div class="polaroid">
            <img src="photo3.jpg">
            <div class="caption">you ❤️</div>
          </div>
        </div>

        <button onclick="showFinal()">Next ❤️</button>
      </div>
    `);
  }

  function showFinal() {
    fadeBody(`
      <div id="main">
        <div class="final">
          <div class="rose">🌹🌹🌹</div>
          <div id="typedText"></div>
          <br>
          <div id="signature"></div>
          <div class="rose">🌹🌹🌹</div>
        </div>
      </div>
    `);

    createHearts();

    const message = `With you even an ordinary day feels special. I love how we laugh together at the silliest things and how I feel so warm whenever I’m next to you. You make me want to dream about all the little moments we haven’t lived yet, the places we could go, the late-night talks, the quiet walks, and every day in the future that the both of us dream of where I get to be by your side. Somehow you turn even the greyest days colourful.
With you I feel at home. You’re my peaceful island in this hectic world and it makes me happy just to look at you, seeing you smile means the world to me.
You know exactly how to make me feel loved and with you everything feels like it’s in the right place.
Your gorgeous eyes in which I see my whole world and that beautiful smile of yours I swear I’d do anything to keep that smile on your face forever. You make every day more magical and I love how we understand each other halfway through a sentence. Being with you feels real and that's exactly where I’m meant to be. I love you Anou ❤️`;

    setTimeout(() => {
      typeWriter("typedText", message, () => {
        document.getElementById("signature").innerHTML = "– Rahul <3";
      });
    }, 600);
  }

  function typeWriter(id, text, callback) {
    let i = 0;
    const speed = 40;

    function type() {
      if (i < text.length) {
        const char = text.charAt(i);
        if (char === "\n") {
          document.getElementById(id).innerHTML += "<br><br>";
        } else {
          document.getElementById(id).innerHTML += char;
        }
        i++;
        setTimeout(type, speed);
      } else if (callback) {
        callback();
      }
    }
    type();
  }

  function moveNo() {
    const noBtn = document.getElementById("no");
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 100);
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
  }

  function createHearts() {
    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerText = "❤️";
      heart.style.left = Math.random() * window.innerWidth + "px";
      heart.style.bottom = "0px";
      document.body.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 5000);
    }, 250);
  }
</script>

</body>
</html>
